(self.webpackChunkcool_resume=self.webpackChunkcool_resume||[]).push([[8351],{4423:function(e,t,n){"use strict";n.d(t,{G_:function(){return l},YS:function(){return o},rN:function(){return i}});var i="bgImg",l=13,o=16},8351:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ee}});n(4134);var i=n(857),l=(n(7224),n(7309)),o=(n(58),n(6573)),r=n(1413),a=n(3433),s=n(9439),c=n(2791),u=n(732),d=n(7622),h=n(3281),p=n(532),x=n(763),m=n.n(x),f=n(6871),b=n(4942),g=n(5850),y=n(184),v="#93C5FD",j="JSON",k="PDF",Z="@@cool-resume-guide",w="1",N={IMG:"img",DIVIDER:"divider",ICON:"icon",TAG:"tag",PREVIEW_BOX:"preview-box",FOOTNOTES:"footnotes"},I="p",E="divider",C="tag",D=Object.values(N),T=[N.DIVIDER,N.TAG],B={h1:{fontSize:"1.3rem",fontWeight:"500",lineHeight:"1.5rem"},h2:{fontSize:"1.2rem",fontWeight:"500",lineHeight:"1.5rem"},h3:{fontSize:"1.1rem",fontWeight:"500",lineHeight:"1.5rem"},p:{lineHeight:"1.5rem"}},S="top",O="left",L="bottom",P="right",A="basic",R="basic-bg",F="rectangle",_="rectangle-bg",z=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\xd7\xd7\xd7\xd7",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,l=(t={},(0,b.Z)(t,A,(0,y.jsx)("div",{style:{color:i,width:"4rem",height:"2rem",border:"1px solid ".concat(i),borderRadius:"1rem",textAlign:"center",lineHeight:"2rem",fontSize:"0.8rem"},children:(0,y.jsx)("span",{"data-node-type":"text",children:n})})),(0,b.Z)(t,R,(0,y.jsx)("div",{style:{background:i,color:"#fff",width:"4rem",height:"2rem",border:"1px solid #ccc",borderRadius:"1rem",textAlign:"center",lineHeight:"2rem",fontSize:"0.8rem"},children:(0,y.jsx)("span",{"data-node-type":"text",children:n||"xxxx"})})),(0,b.Z)(t,F,(0,y.jsx)("div",{style:{color:i,width:"4rem",height:"2rem",border:"1px solid ".concat(i),textAlign:"center",lineHeight:"2rem",fontSize:"0.8rem"},children:(0,y.jsx)("span",{"data-node-type":"text",children:n||"xxxx"})})),(0,b.Z)(t,_,(0,y.jsx)("div",{style:{background:i,color:"#fff",width:"4rem",height:"2rem",border:"1px solid #ccc",textAlign:"center",lineHeight:"2rem",fontSize:"0.8rem"},children:(0,y.jsx)("span",{"data-node-type":"text",children:n||"xxxx"})})),t);return l[e]},G={LINE_BOTTOM:"line-bottom",BACKGROUND:"background",BACKGROUND2:"background2",RADIUS_LINE:"radius-line",RADIUS_LINE_MIDDLE:"radius-line-middle",BORDER_LEFT_BG:"border-left-bg"},V=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\xd7\xd7\xd7\xd7",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,l=(t={},(0,b.Z)(t,G.LINE_BOTTOM,(0,y.jsx)("div",{style:{color:i,borderBottom:"2px solid ".concat(i),width:"100%",height:"2rem"},children:(0,y.jsx)("span",{"data-node-type":"text",style:B.h2,children:n})})),(0,b.Z)(t,G.BACKGROUND,(0,y.jsx)("div",{style:{background:i,padding:5,width:"100%",height:"2rem"},children:(0,y.jsx)("span",{"data-node-type":"text",style:(0,r.Z)((0,r.Z)({},B.h2),{},{color:"#fff"}),children:n||"xxxx"})})),(0,b.Z)(t,G.RADIUS_LINE,(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("p",{style:{background:i,padding:5,width:150,display:"inline-block",borderRadius:15,textAlign:"center",color:"#fff",height:"2rem"},children:(0,y.jsx)("span",{"data-node-type":"text",style:B.h2,children:n||"xxxx"})}),(0,y.jsx)("p",{style:{borderTop:"2px solid ".concat(i),display:"inline-block",height:"0.5rem",width:"calc(100% - 150px)"}})]})),(0,b.Z)(t,G.RADIUS_LINE_MIDDLE,(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)("p",{style:{borderTop:"2px solid ".concat(i),display:"inline-block",height:"0.5rem",width:"calc(50% - 75px)"}}),(0,y.jsx)("p",{style:{background:i,padding:5,width:150,display:"inline-block",borderRadius:15,textAlign:"center",color:"#fff",height:"2rem"},children:(0,y.jsx)("span",{"data-node-type":"text",style:B.h2,children:n||"xxxx"})}),(0,y.jsx)("p",{style:{borderTop:"2px solid ".concat(i),display:"inline-block",height:"0.5rem",width:"calc(50% - 75px)"}})]})),(0,b.Z)(t,G.BORDER_LEFT_BG,(0,y.jsx)("div",{children:(0,y.jsx)("p",{style:{borderLeft:"3px solid ".concat(i),height:"2rem",lineHeight:"2rem",fontSize:"1.2rem",fontWeight:500,width:"100%",color:i,background:(0,g.e_)(i,.13)},children:(0,y.jsx)("span",{"data-node-type":"text",style:{paddingLeft:10},children:n||"xxxx"})})})),t);return l[e]},M=(n(3148),n(7706)),H=(n(7882),n(3099)),U=(n(604),n(762)),$=n(4165),W=n(5861),q=n(6864),K=n(7295),X=n(2426),Y=n.n(X),J=n(7126);function Q(e){var t=e.visible,n=e.setVisible;return(0,y.jsxs)(i.Z,{title:"\u6253\u6270\u5566",visible:t,onOk:function(){n(!1)},onCancel:function(){n(!1)},footer:null,children:[(0,y.jsx)("p",{children:"\u5982\u679c\u8be5\u9879\u76ee\u5bf9\u60a8\u6709\u5e2e\u52a9\uff0c\u8bf7\u70b9\u4e2astar\u8ba9\u4f5c\u8005\u77e5\u9053\u5427(:"}),(0,y.jsx)("a",{className:"pointer text-blue-300",target:"__blank",href:"https://github.com/MasonEast/MasonEast.github.io",children:"\u53bb\u5f80Github"}),(0,y.jsx)("p",{className:" mt-4 mb-1",children:"\u4e5f\u53ef\u4ee5\u6253\u8d4f\u4f5c\u8005\u559d\u4e2a\u5496\u5561\u54df\u2764\ufe0f"}),(0,y.jsx)("img",{className:"w-40 h-40",src:J,alt:""})]})}var ee="print-container";function te(){var e="\n    @media print {\n      body > :not(#".concat(ee,") {\n        display: none;\n      }\n      html,\n      body {\n        display: block !important;\n        margin: 1cm;\n      }\n      @page {\n        size: A4 portrait;\n        margin: 1cm 0 1cm 1cm;\n        padding: 0;\n      }\n      .footnotes {\n        page-break-after: always;\n      }\n      #").concat(ee,": {\n        display: block;\n      }\n    }\n  "),t=document.createElement("style");return t.innerHTML=e,t}function ne(e){!function(){var e=document.querySelector("#".concat(ee));e&&document.body.removeChild(e)}();var t=document.createElement("div");return t.setAttribute("id",ee),t.innerHTML=e.length>1?e.join('<div class="footnotes"></div>'):e[0],t}function ie(e){var t=Array.from(e.querySelectorAll("img"));if(!t.length)return Promise.resolve();var n=0;return new Promise((function(e){var i=function(){++n===t.length&&e()};t.forEach((function(e){e.addEventListener("load",i),e.addEventListener("error",i)}))}))}function le(){return(le=(0,W.Z)((0,$.Z)().mark((function e(t){var n,i;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(),i=ne(t),document.body.appendChild(n),document.body.appendChild(i),e.next=6,ie(i);case 6:window.print(),document.body.removeChild(n),document.body.removeChild(i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=n(4423);function re(e){var t=e.layouts,i=e.theme,o=e.setTheme,r=e.setLayouts,u=e.bgNodes,d=e.setBgNodes,h=e.setPrintNodes,p=e.setTotal,x=e.setPage,m=e.printNodes,b=e.page,Z=(0,f.s0)(),w=(0,c.useState)(!1),I=(0,s.Z)(w,2),E=I[0],C=I[1],D=(0,f.TH)();(0,c.useEffect)((function(){D.search&&B(D.search.substring(1))}),[D.search]);var B=function(){var e=(0,W.Z)((0,$.Z)().mark((function e(t){var i,l,a,s;return(0,$.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],l=v,a=[],!t.includes("tpl")){e.next=10;break}return e.next=5,n(8373)("./".concat(t,".json"));case 5:s=e.sent,i=s.layouts,a=s.bgNodes,l=s.theme,s.bgImg&&Z(".",{state:{bgImg:s.bgImg}});case 10:if(i.length){e.next=12;break}return e.abrupt("return");case 12:i=i.map((function(e){return Object.keys(e.block).forEach((function(t){var n=t.split("-")[0];T.includes(n)&&(e.block[t].text=(0,g.v7)(e.block[t].text))})),e})),r(i),o(l),d(a),p(i.length),x(0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(0,y.jsx)(U.Z,{onClick:function(e){var n;switch(e.key){case k:var l=(0,a.Z)(m);l[b]=document.querySelector("#".concat(N.PREVIEW_BOX).concat(b)).innerHTML,h(l),function(e){le.apply(this,arguments)}(l),C(!0);break;case j:(0,g.IA)({name:"\u4e2a\u4eba\u7b80\u5386-".concat(Y()().format("YYYY-MM-DD"),".json"),data:{layouts:t,theme:i,bgNodes:u,bgImg:null===(n=D.state)||void 0===n?void 0:n[oe.rN]}})}},items:[{label:"PDF",key:k},{label:"JSON",key:j}]});return(0,y.jsxs)("header",{className:"fixed w-full bg-white z-10 py-2 px-2 shadow-xl flex justify-between items-center",children:[(0,y.jsx)(q.Z,{className:"text-2xl",onClick:function(){return Z("/bgs")}}),(0,y.jsx)(M.Z,{overlay:S,children:(0,y.jsx)(l.Z,{type:"dashed",children:(0,y.jsxs)(H.Z,{children:["\u5bfc\u51fa",(0,y.jsx)(K.Z,{className:"leading-6"})]})})}),(0,y.jsx)(Q,{visible:E,setVisible:C})]})}var ae=n(3414),se=n(3457),ce=n.n(se),ue=(n(6290),n(4571)),de=(n(1611),n(6592)),he=(n(4729),n(8741)),pe=n(2414);function xe(e){var t=e.setLayouts,n=e.layoutKey,i=e.page,l=he.Z.useForm(),o=(0,s.Z)(l,1)[0],c=(0,y.jsx)(he.Z,{form:o,children:n.includes("img")?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(he.Z.Item,{name:"borderRadius",label:"\u56fe\u7247\u5f62\u72b6",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u6b63\u65b9\u5f62",value:"0"},{label:"\u5706\u5f62",value:"50%"}]})}),(0,y.jsx)(he.Z.Item,{name:"border",label:"\u5916\u8fb9\u6846",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u662f",value:"10px solid #fff"},{label:"\u5426",value:"0"}]})}),(0,y.jsx)(he.Z.Item,{name:"borderColor",label:"\u5916\u8fb9\u6846\u989c\u8272",children:(0,y.jsx)(de.ZP.Group,{options:[{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-yellow-500"}),value:"#F59E0B"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-gray-300"}),value:"#D1D5DB"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-red-400"}),value:"#F87171"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-green-300"}),value:"#6EE7B7"}]})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(he.Z.Item,{name:"color",label:"\u5b57\u4f53\u989c\u8272",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u767d\u8272",value:"#fff"},{label:"\u9ed1\u8272",value:"#000"},{label:"\u7070\u8272",value:"#ccc"}]})}),(0,y.jsx)(he.Z.Item,{label:"\u5b57\u4f53\u5927\u5c0f",name:"fontSize",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u6b63\u5e38",value:"1rem"},{label:"\u5c0f\u53f7",value:"1.1rem"},{label:"\u4e2d\u53f7",value:"1.2rem"},{label:"\u5927\u53f7",value:"1.3rem"}]})}),(0,y.jsx)(he.Z.Item,{label:"\u5b57\u4f53\u7c97\u7ec6",name:"fontWeight",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u6b63\u5e38",value:""},{label:"\u52a0\u7c97",value:"500"}]})}),(0,y.jsx)(he.Z.Item,{label:"\u5b57\u4f53\u4f4d\u7f6e",name:"textAlign",children:(0,y.jsx)(de.ZP.Group,{options:[{label:"\u5de6\u5bf9\u9f50",value:"left"},{label:"\u5c45\u4e2d",value:"center"},{label:"\u53f3\u5bf9\u9f50",value:"right"}]})}),(0,y.jsx)(he.Z.Item,{label:"\u80cc\u666f\u989c\u8272",name:"background",children:(0,y.jsx)(de.ZP.Group,{options:[{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-yellow-500"}),value:"#F59E0B"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-gray-300"}),value:"#D1D5DB"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-red-400"}),value:"#F87171"},{label:(0,y.jsx)("span",{className:"inline-block h-3 w-3  bg-green-300"}),value:"#6EE7B7"}]})})]})});return(0,y.jsx)(ue.Z,{title:c,onConfirm:function(){t((function(e){var t=(0,a.Z)(e),l=t[i].block[n];return t[i].block[n]=(0,r.Z)((0,r.Z)({},l),{},{style:o.getFieldsValue()||{}}),n.includes("img")&&(l.text.props.style=o.getFieldsValue()||{}),t}))},icon:null,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,y.jsx)(pe.Z,{className:"absolute top-0 left-3 text-localxs cursor-pointer"})})}function me(e){var t=e.data,n=e.addBlock,i=e.setLayouts,l=e.page,o=e.index,s=e.isEdit,d=void 0===s||s,h=function(e){return!D.includes(e.split("-")[0])},p=function(e){var n;return e.includes(N.IMG)?{}:null===(n=t.block[e])||void 0===n?void 0:n.style};return(0,y.jsx)(ce(),{layout:t.layout,cols:24,width:630,margin:[5,2],rowHeight:20,isDraggable:d,isResizable:d,onLayoutChange:function(e){return function(e,t){i((function(n){var i=(0,a.Z)(n);return i[t].layout=e,i}))}(e,o)},style:{display:l===o?"block":"none",zIndex:5},children:t.layout.map((function(e){var o,s=e.i,x=null===(o=t.block[s])||void 0===o?void 0:o.text,f="string"===typeof x||c.isValidElement(x)?x:c.createElement((null===x||void 0===x?void 0:x.type)||"",null===x||void 0===x?void 0:x.props);return d?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{onBlur:function(e){return function(e,t){var n=t.target;i((function(t){var i=m().cloneDeep(t);return i[l].block[e].text=n.innerText,i}))}(s,e)},contentEditable:h(s),suppressContentEditableWarning:!0,className:"bg-gray-200 h-full leading-normal py-2 px-1",style:p(s),children:f}),(0,y.jsx)(ae.Z,{className:"absolute top-0 left-0 text-localxs cursor-pointer",onClick:function(){return function(e){var i=t.layout.findIndex((function(t){return t.i===e}));-1!==i&&n({type:t.block[e].type,text:t.block[e].text,layout:(0,r.Z)((0,r.Z)({},t.layout[i]),{},{i:t.layout[i].i.split("-")[0]+"-"+Date.now()}),style:t.block[e].style})}(s)}}),(0,y.jsx)(xe,{setLayouts:i,layoutKey:s,page:l}),(0,y.jsx)(u.Z,{className:"absolute top-0 right-0 text-localxs cursor-pointer",onClick:function(){return function(e){var n=t.layout.findIndex((function(t){return t.i===e}));i((function(t){var i=(0,a.Z)(t);return i[l].layout.splice(n,1),delete i[l].block[e],i}))}(s)}})]},s):(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:" h-full leading-normal py-2 px-1",style:p(e.i),children:f})},s)}))})}n(4388);var fe=n(9228),be=["icon-github","icon-facebookfacebook52","icon-email","icon-wo","icon-dianhuatianchong","icon-nvsheng","icon-nansheng","icon-jiaoyu2","icon-xiangmu","icon-rongyu","icon-kaiyuan","icon-nianling","icon-qiandai","icon-xihuan","icon-ziwopingjia","icon-jinengbiaoqian","icon-gongzuonianxian","icon-gongzuonianxian1"];function ge(e){var t=e.handleIconClick,n=(0,y.jsx)("ul",{className:"flex flex-wrap justify-around w-60",onClick:t,children:be.map((function(e){return(0,y.jsx)("ol",{children:(0,y.jsx)("i",{title:e,className:"iconfont ".concat(e," rounded-full h-10 w-10 m-3 cursor-pointer")})},e)}))});return(0,y.jsx)(fe.Z,{content:n,placement:"leftTop",children:(0,y.jsx)("i",{className:"".concat(we," icon-tubiao1")})})}function ye(e){var t=e.handleThemeClick,n=(0,y.jsxs)("ul",{className:"flex flex-wrap justify-around w-40",onClick:t,children:[(0,y.jsx)("ol",{title:"black",className:"rounded-full h-5 w-5 m-2 cursor-pointer bg-black"}),(0,y.jsx)("ol",{title:"#F59E0B",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-yellow-500"}),(0,y.jsx)("ol",{title:"#D1D5DB",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-gray-300"}),(0,y.jsx)("ol",{title:"#F87171",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-red-400"}),(0,y.jsx)("ol",{title:"#6EE7B7",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-green-300"}),(0,y.jsx)("ol",{title:"#93C5FD",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-blue-300"}),(0,y.jsx)("ol",{title:"#818CF8",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-indigo-400"}),(0,y.jsx)("ol",{title:"#8B5CF6",className:"rounded-full h-5 w-5 m-2  cursor-pointer bg-purple-500"})]});return(0,y.jsx)(fe.Z,{content:n,placement:"leftTop",children:(0,y.jsx)("i",{className:"".concat(we," icon-zhutise")})})}n(300);var ve=n(6295);function je(e){var t=e.visible,n=e.setVisible,l=e.addBlock,o=e.theme,r=he.Z.useForm(),a=(0,s.Z)(r,1)[0];return(0,y.jsx)(i.Z,{title:"\u5206\u5272\u7ebf",visible:t,onOk:function(){a.validateFields().then((function(e){var t=V(e.type,e.title,o),i=t.type,r=t.props,a=t.key;l({type:e.type,title:e.title,layout:{i:"".concat(N.DIVIDER,"-").concat(Date.now()),w:24,h:2},text:{type:i,props:r,key:a}}),n(!1)}))},onCancel:function(){n(!1)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,y.jsxs)(he.Z,{form:a,children:[(0,y.jsx)(he.Z.Item,{label:"\u5206\u5272\u7ebf\u6807\u9898",name:"title",rules:[{required:!0}],children:(0,y.jsx)(ve.Z,{})}),(0,y.jsx)(he.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){var t=(0,e.getFieldValue)("title");return(0,y.jsx)(he.Z.Item,{label:"\u5206\u5272\u7ebf\u6837\u5f0f",name:"type",initialValue:G.LINE_BOTTOM,children:(0,y.jsx)(de.ZP.Group,{children:(0,y.jsx)(H.Z,{direction:"vertical",children:Object.values(G).map((function(e){return(0,y.jsx)(de.ZP,{value:e,children:(0,y.jsx)("div",{style:{width:350},children:V(e,t)})})}))})})})}})]})})}function ke(e){var t=e.visible,n=e.setVisible,l=e.addBlock,o=e.theme,r=he.Z.useForm(),a=(0,s.Z)(r,1)[0];return(0,y.jsx)(i.Z,{title:"Tag\u6807\u7b7e",visible:t,onOk:function(){a.validateFields().then((function(e){var t=z(e.type,e.title,o),i=t.type,r=t.props,a=t.key;l({type:e.type,title:e.title,layout:{i:"".concat(N.TAG,"-").concat(Date.now()),w:3,h:2},text:{type:i,props:r,key:a}}),n(!1)}))},onCancel:function(){n(!1)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:(0,y.jsxs)(he.Z,{form:a,children:[(0,y.jsx)(he.Z.Item,{label:"tag\u6807\u9898",name:"title",rules:[{required:!0}],children:(0,y.jsx)(ve.Z,{})}),(0,y.jsx)(he.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(e){var t=(0,e.getFieldValue)("title");return(0,y.jsx)(he.Z.Item,{label:"tag\u6837\u5f0f",name:"type",initialValue:A,children:(0,y.jsx)(de.ZP.Group,{children:(0,y.jsxs)(H.Z,{direction:"vertical",children:[(0,y.jsx)(de.ZP,{value:A,children:(0,y.jsx)("div",{style:{width:350},children:z(A,t)})}),(0,y.jsx)(de.ZP,{value:R,children:(0,y.jsx)("div",{style:{width:350},children:z(R,t)})}),(0,y.jsx)(de.ZP,{value:F,children:(0,y.jsx)("div",{style:{width:350},children:z(F,t)})}),(0,y.jsx)(de.ZP,{value:_,children:(0,y.jsx)("div",{style:{width:350},children:z(_,t)})})]})})})}})]})})}function Ze(e){var t=e.setBgNodes,n=(0,y.jsx)(U.Z,{onClick:function(e){var n={width:"calc(100% - 1rem)",height:"11.5rem"};switch(e.key){case O:n={width:"11.5rem",height:"calc(100% - 1rem)"};break;case L:n=(0,r.Z)((0,r.Z)({},n),{},{bottom:"0.5rem"});break;case P:n={width:"11.5rem",height:"calc(100% - 1rem)",right:"0.5rem"}}t((function(e){return[].concat((0,a.Z)(e),[n])}))},items:[{label:"\u4e0a\u80cc\u666f",key:S},{label:"\u5de6\u80cc\u666f",key:O},{label:"\u53f3\u80cc\u666f",key:P},{label:"\u4e0b\u80cc\u666f",key:L}]});return(0,y.jsx)(M.Z,{overlay:n,children:(0,y.jsx)("i",{className:"".concat(we," icon-dikuai")})})}var we="text-2xl iconfont pt-3 pl-2.5 text-white cursor-pointer";function Ne(e){var t=e.addBlock,n=e.theme,i=e.setTheme,l=e.setBgNodes,o=e.setLayouts,r=e.setTotal,a=e.setPage,u=(0,c.useState)(!1),d=(0,s.Z)(u,2),h=d[0],p=d[1],x=(0,c.useState)(!1),m=(0,s.Z)(x,2),b=m[0],v=m[1],j=(0,f.s0)(),k=function(e){e!==E?e!==C?t({type:e,text:"",layout:{w:6,h:2}}):v(!0):p(!0)},Z=function(e){var t=e.layouts,n=void 0===t?[]:t,s=e.theme,c=void 0===s?"":s,u=e.bgNodes,d=void 0===u?[]:u,h=e.bgImg;n=n.map((function(e){return Object.keys(e.block).forEach((function(t){var n=t.split("-")[0];T.includes(n)&&(e.block[t].text=(0,g.v7)(e.block[t].text))})),e})),o(n),i(c),l(d),r(n.length),a(0),h&&j(".",{state:{bgImg:h}})};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"fixed z-10 top-12 left-0 w-12 h-full pt-10 flex flex-col bg-gray-900 ",children:[(0,y.jsx)("i",{className:"".concat(we," icon-kuaibuju"),onClick:function(){return k(I)}}),(0,y.jsx)("i",{className:"".concat(we," icon-biaoti"),onClick:function(){return k(E)}}),(0,y.jsx)("i",{className:"".concat(we," icon-24gl-tags4"),onClick:function(){return k(C)}}),(0,y.jsx)(ge,{handleIconClick:function(e){var n=e.target.title;t({type:"icon",text:{type:"i",props:{className:"iconfont ".concat(n)}},layout:{i:"".concat(N.ICON,"-").concat(Date.now()),w:2,h:2}})}}),(0,y.jsx)(ye,{handleThemeClick:function(e){var t=e.target.title;i(t)}}),(0,y.jsxs)("div",{className:"mt-2",children:[(0,y.jsx)("input",{className:"hidden",accept:"image/*",id:"uploadImage",onChange:function(){var e,n=new FileReader,i=null===(e=document.getElementById("uploadImage").files)||void 0===e?void 0:e[0];n.readAsDataURL(i),n.onload=function(e){var n;t({type:"img",text:{type:"img",props:{className:"h-full",src:null===(n=e.target)||void 0===n?void 0:n.result,alt:""}},layout:{i:"".concat(N.IMG,"-").concat(Date.now()),w:6,h:6}})}},type:"file"}),(0,y.jsx)("label",{htmlFor:"uploadImage",children:(0,y.jsx)("i",{className:"".concat(we," icon-tupian")})})]}),(0,y.jsx)(Ze,{setBgNodes:l}),(0,y.jsx)("i",{className:"".concat(we," icon-jurassic_import-form absolute bottom-20 left-0 z-10"),onClick:function(){return(0,g._V)(Z)}})]}),(0,y.jsx)(je,{visible:h,setVisible:p,addBlock:t,theme:n}),(0,y.jsx)(ke,{visible:b,setVisible:v,addBlock:t,theme:n})]})}var Ie=n(2690);var Ee=function(){var e,t=(0,c.useState)(0),n=(0,s.Z)(t,2),x=n[0],b=n[1],g=(0,c.useState)(1),j=(0,s.Z)(g,2),k=j[0],I=j[1],E=(0,c.useState)([{block:{},layout:[]}]),C=(0,s.Z)(E,2),D=C[0],T=C[1],B=(0,c.useState)(v),S=(0,s.Z)(B,2),O=S[0],L=S[1],P=(0,c.useState)([]),A=(0,s.Z)(P,2),R=A[0],F=A[1],_=(0,c.useState)([]),G=(0,s.Z)(_,2),M=G[0],H=G[1],U=(0,c.useState)(!1),$=(0,s.Z)(U,2),W=$[0],q=$[1],K=(0,f.TH)();(0,c.useLayoutEffect)((function(){var e=localStorage.getItem(Z);q(e!==w)}),[]),(0,c.useEffect)((function(){T((function(e){var t=(0,a.Z)(e);return Object.keys(e[x].block).forEach((function(e){var n=e.split("-")[0],i=D[x].block[e];switch(n){case N.DIVIDER:case N.TAG:var l=i.type,o=i.title,a=(n===N.TAG?z:V)(l,o,O),s=a.type,c=a.props,u=a.key;t[x].block[e]=(0,r.Z)((0,r.Z)({},i),{},{text:{type:s,props:c,key:u},theme:O})}})),t}))}),[O,x]);var X=function(e){var t=e.type,n=void 0===t?"p":t,i=e.text,l=void 0===i?"":i,o=e.title,r=e.theme,a=e.layout,s=void 0===a?{}:a,c=e.style,u=void 0===c?{}:c,d=s.i||"p-"+Date.now()+D[x].layout.length;if(!s.y&&0!==s.y){var h=D[x].layout.reduce((function(e,t){return Math.max(e,t.y)}),0);s.y=h,s.x=0}s.i=d,T((function(e){var t=m().cloneDeep(e);return t[x].layout.push(s),t[x].block[d]={type:n,text:l,title:o,theme:r,style:u},t}))},Y=function(){var e=document.querySelector("#".concat(N.PREVIEW_BOX).concat(x));H((function(t){var n=(0,a.Z)(t);return n[x]=e.innerHTML,n})),b(x+1),x+1===k&&(T([].concat((0,a.Z)(D),[{layout:[],block:{}}])),I(k+1))},J=(0,y.jsx)("img",{src:null===(e=K.state)||void 0===e?void 0:e[oe.rN],alt:"",style:{position:"absolute",left:0,top:0,bottom:0,right:0,width:"100%",height:"100%"}});return(0,y.jsxs)("div",{className:"App",children:[(0,y.jsx)(re,{addBlock:X,theme:O,setTheme:L,layouts:D,setLayouts:T,bgNodes:R,setBgNodes:F,printNodes:M,setPrintNodes:H,setTotal:I,setPage:b,page:x}),(0,y.jsxs)("div",{className:"flex justify-around bg-gray-100 py-16 pl-10",children:[(0,y.jsx)(Ne,{addBlock:X,theme:O,setTheme:L,setLayouts:T,setBgNodes:F,printNodes:M,setPrintNodes:H,setTotal:I,setPage:b,page:x}),(0,y.jsxs)("div",{className:"w-6/12 flex justify-center relative",children:[(0,y.jsxs)("div",{className:"mx-1 my-4 layout-box bg-white p-2 min-h-screen relative",style:{height:1050},children:[J,R.map((function(e,t){return(0,y.jsx)("div",{style:(0,r.Z)({position:"absolute",backgroundColor:O},e),children:(0,y.jsx)(u.Z,{className:"absolute top-0 right-0 text-localxs cursor-pointer z-10",onClick:function(){return function(e){F((function(t){var n=(0,a.Z)(t);return n.splice(e,1),n}))}(t)}})},t)})),D.map((function(e,t){return(0,y.jsx)(me,{data:e,addBlock:X,setLayouts:T,page:x,index:t},t)}))]}),(0,y.jsx)(o.Z,{title:"\u4e0a\u4e00\u9875",children:(0,y.jsx)(d.Z,{className:"absolute text-gray-300 z-20 left-12",style:{fontSize:40,top:"40%",display:0===x?"none":"block"},onClick:function(){H((function(e){var t=(0,a.Z)(e);return t[x]=document.querySelector("#".concat(N.PREVIEW_BOX).concat(x)).innerHTML,t})),b(x-1)}})}),x+1===D.length?(0,y.jsx)(o.Z,{title:"\u65b0\u589e\u4e00\u9875",children:(0,y.jsx)(h.Z,{className:"absolute text-gray-300 z-20 right-12",style:{fontSize:40,top:"40%"},onClick:Y})}):(0,y.jsx)(o.Z,{title:"\u4e0b\u4e00\u9875",children:(0,y.jsx)(p.Z,{className:"absolute text-gray-300 z-20 right-12",style:{fontSize:40,top:"40%"},onClick:Y})})]}),(0,y.jsx)("div",{id:"".concat(N.PREVIEW_BOX).concat(x),className:"w-6/12  flex justify-center",children:(0,y.jsxs)("div",{className:"mx-1 my-4 layout-box bg-white p-2 min-h-screen relative",style:{height:1050},children:[J,(0,y.jsxs)("div",{children:[R.map((function(e){return(0,y.jsx)("div",{style:(0,r.Z)({position:"absolute",backgroundColor:O},e)})})),D.map((function(e,t){return(0,y.jsx)(me,{data:e,addBlock:X,setLayouts:T,page:x,index:t,isEdit:!1},"show".concat(t))}))]})]})})]}),(0,y.jsx)(i.Z,{footer:[(0,y.jsx)(l.Z,{type:"primary",onClick:function(){q(!1),localStorage.setItem(Z,w)},children:"\u77e5\u9053\u4e86"})],closable:!1,maskClosable:!1,visible:W,children:(0,y.jsx)("img",{src:Ie,alt:""})})]})}},5850:function(e,t,n){"use strict";n.d(t,{$v:function(){return l},IA:function(){return a},_V:function(){return s},e_:function(){return r},v7:function(){return o}});n(338);var i=n(3695);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpeg";return new Promise((function(n,i){var l=document.createElement("canvas"),o=l.getContext("2d"),r=new Image;r.src=e,r.onload=function(){l.height=r.height,l.width=r.width,o.drawImage(r,0,0,r.width,r.height);var e=l.toDataURL("image/"+t);n(e),l.remove()},r.onerror=function(){return i("\u52a0\u8f7d\u5931\u8d25")}}))}function o(e){var t=e.type,n=e.props,i={type:t,props:n,key:e.key};return null!==n&&void 0!==n&&n.children&&(Array.isArray(n.children)?n.children.forEach((function(e){"string"===typeof e||e.$$typeof||(e.$$typeof=Symbol.for("react.element"),o(e))})):"string"===typeof n.children||n.children.$$typeof||(n.children.$$typeof=Symbol.for("react.element"),o(n.children))),i}function r(e,t){var n=e.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var i="#",l=1;l<4;l+=1)i+=n.slice(l,l+1).concat(n.slice(l,l+1));n=i}for(var o=[],r=1;r<7;r+=2)o.push(parseInt("0x"+n.slice(r,r+2)));return 0===t||t||(t=1),o.push(t),"rgba("+o.join(",")+")"}return n}var a=function(e){var t=e.name,n=e.data,i=document.createElement("a");i.download=t,i.style.display="none";var l=new Blob([JSON.stringify(n,(function(e,t){if(!["elementType","$$typeof","Provider","_owner"].includes(e))return t}))]);i.href=URL.createObjectURL(l),document.body.appendChild(i),i.click(),document.body.removeChild(i)},s=function(e){var t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=function(n){var l=n.target.files;if(!l||!l.length)throw t=null,new Error("No files");var o=new FileReader;o.onload=function(t){try{var n=JSON.parse(t.target.result);return e(n),n}catch(l){throw i.ZP.error(l),new Error(l)}},o.readAsText(l[0])},t.click()}},8373:function(e,t,n){var i={"./tpl1.json":[368,368],"./tpl10.json":[7990,7990],"./tpl11.json":[3845,3845],"./tpl12.json":[326,326],"./tpl13.json":[779,779],"./tpl2.json":[731,731],"./tpl3.json":[5714,5714],"./tpl4.json":[3776,3776],"./tpl5.json":[3450,3450],"./tpl6.json":[2804,2804],"./tpl7.json":[9663,9663],"./tpl8.json":[5481,5481],"./tpl9.json":[2731,2731]};function l(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],l=t[0];return n.e(t[1]).then((function(){return n.t(l,19)}))}l.keys=function(){return Object.keys(i)},l.id=8373,e.exports=l},2690:function(e,t,n){"use strict";e.exports=n.p+"static/media/guide.e068ee23d8611a024cb1.png"},7126:function(e,t,n){"use strict";e.exports=n.p+"static/media/shoukuan.0bfbe53a36d8b5319f8c.jpeg"}}]);
//# sourceMappingURL=8351.dbb7fa70.chunk.js.map