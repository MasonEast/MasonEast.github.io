{"version":3,"file":"static/js/8351.929972e0.chunk.js","mappings":"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","sources":["constants.ts","page/editor/constants.tsx","page/editor/components/toGithub/index.tsx","utils/print.ts","page/editor/components/header/index.tsx","page/editor/components/setting/index.tsx","page/editor/components/gridLayout/index.tsx","page/editor/components/icons/index.tsx","page/editor/components/themes/index.tsx","page/editor/components/divider/index.tsx","page/editor/components/tag/index.tsx","page/editor/components/bgNode/index.tsx","page/editor/components/tools/index.tsx","page/editor/index.tsx","utils/index.ts","assets/tpls|lazy|/^/.//.*/.json$/|groupOptions: {}|namespace object"],"sourcesContent":["export const BGIMG = \"bgImg\";\n\nexport const tplFileNumber = 13; // tpl图片数量\n\nexport const bgFileNumber = 16; // bg图片数量\n\nexport const CLASSIFYS = {\n  industry: {\n    title: \"行业\",\n    options: [\n      {\n        label: \"全部\",\n        value: 0,\n      },\n      {\n        label: \"应届生\",\n        value: 1,\n      },\n      {\n        label: \"互联网\",\n        value: 2,\n      },\n      {\n        label: \"金融\",\n        value: 3,\n      },\n      {\n        label: \"公职单位\",\n        value: 4,\n      },\n      {\n        label: \"工商管理\",\n        value: 5,\n      },\n      {\n        label: \"土木工程\",\n        value: 6,\n      },\n    ],\n  },\n  style: {\n    title: \"风格\",\n    options: [\n      {\n        label: \"全部\",\n        value: 0,\n      },\n      {\n        label: \"极简\",\n        value: 1,\n      },\n      {\n        label: \"炫酷\",\n        value: 2,\n      },\n      {\n        label: \"证件照\",\n        value: 3,\n      },\n    ],\n  },\n};\n","/*\n * @Description:\n * @Date: 2022-07-02 17:42:58\n * @Author: mason\n */\nimport { colorRgb } from \"@/utils\";\n\nexport const DEFAULT_THEME = \"#93C5FD\";\n\nexport const EXPORT_TYPE = {\n  JSON: \"JSON\",\n  PDF: \"PDF\",\n};\n\nexport const LOCAL_STORAGE = {\n  GUIDE: \"@@cool-resume-guide\",\n  GUIDE_STATUS: \"1\",\n};\n\nexport const CONSTANTS = {\n  IMG: \"img\",\n  DIVIDER: \"divider\",\n  ICON: \"icon\",\n  TAG: \"tag\",\n  PREVIEW_BOX: \"preview-box\",\n  FOOTNOTES: \"footnotes\",\n};\n\nexport const TYPE = {\n  H1: \"h1\",\n  H2: \"h2\",\n  H3: \"h3\",\n  IMG: \"img\",\n  P: \"p\",\n  DIVIDER: \"divider\",\n  TAG: \"tag\",\n};\n\nexport const NO_Edit_TYPE = Object.values(CONSTANTS);\n\nexport const JSON2JSX_ELEMENT = [CONSTANTS.DIVIDER, CONSTANTS.TAG];\n\nexport const BLOCK_STYLE: Record<string, React.CSSProperties> = {\n  h1: {\n    fontSize: \"1.3rem\",\n    fontWeight: \"500\",\n    lineHeight: \"1.5rem\",\n  },\n  h2: {\n    fontSize: \"1.2rem\",\n    fontWeight: \"500\",\n    lineHeight: \"1.5rem\",\n  },\n  h3: {\n    fontSize: \"1.1rem\",\n    fontWeight: \"500\",\n    lineHeight: \"1.5rem\",\n  },\n  p: {\n    lineHeight: \"1.5rem\",\n  },\n};\n\nexport const BG_POSITION = {\n  TOP: \"top\",\n  LEFT: \"left\",\n  BOTTOM: \"bottom\",\n  RIGHT: \"right\",\n};\n\nexport const TAG_TYPES = {\n  BASIC: \"basic\",\n  BASIC_BG: \"basic-bg\",\n  RECTANGLE: \"rectangle\",\n  RECTANGLE_BG: \"rectangle-bg\",\n};\n\nexport const TAG_TYPES_FN = (\n  type: string,\n  v: string = \"××××\",\n  theme: string = DEFAULT_THEME\n) => {\n  const TYPES = {\n    [TAG_TYPES.BASIC]: (\n      <div\n        style={{\n          color: theme,\n          width: \"4rem\",\n          height: \"2rem\",\n          border: `1px solid ${theme}`,\n          borderRadius: \"1rem\",\n          textAlign: \"center\",\n          lineHeight: \"2rem\",\n          fontSize: \"0.8rem\",\n        }}\n      >\n        <span data-node-type=\"text\">{v}</span>\n      </div>\n    ),\n    [TAG_TYPES.BASIC_BG]: (\n      <div\n        style={{\n          background: theme,\n          color: \"#fff\",\n          width: \"4rem\",\n          height: \"2rem\",\n          border: \"1px solid #ccc\",\n          borderRadius: \"1rem\",\n          textAlign: \"center\",\n          lineHeight: \"2rem\",\n          fontSize: \"0.8rem\",\n        }}\n      >\n        <span data-node-type=\"text\">{v || \"xxxx\"}</span>\n      </div>\n    ),\n    [TAG_TYPES.RECTANGLE]: (\n      <div\n        style={{\n          color: theme,\n          width: \"4rem\",\n          height: \"2rem\",\n          border: `1px solid ${theme}`,\n          textAlign: \"center\",\n          lineHeight: \"2rem\",\n          fontSize: \"0.8rem\",\n        }}\n      >\n        <span data-node-type=\"text\">{v || \"xxxx\"}</span>\n      </div>\n    ),\n    [TAG_TYPES.RECTANGLE_BG]: (\n      <div\n        style={{\n          background: theme,\n          color: \"#fff\",\n          width: \"4rem\",\n          height: \"2rem\",\n          border: \"1px solid #ccc\",\n          textAlign: \"center\",\n          lineHeight: \"2rem\",\n          fontSize: \"0.8rem\",\n        }}\n      >\n        <span data-node-type=\"text\">{v || \"xxxx\"}</span>\n      </div>\n    ),\n  };\n\n  return TYPES[type];\n};\n\nexport const DIVIDER_TYPES = {\n  LINE_BOTTOM: \"line-bottom\",\n  BACKGROUND: \"background\",\n  BACKGROUND2: \"background2\",\n  RADIUS_LINE: \"radius-line\",\n  RADIUS_LINE_MIDDLE: \"radius-line-middle\",\n  BORDER_LEFT_BG: \"border-left-bg\",\n};\n\nexport const DIVIDER_TYPES_FN = (\n  type: string,\n  v: string = \"××××\",\n  theme: string = DEFAULT_THEME\n) => {\n  const TYPES = {\n    [DIVIDER_TYPES.LINE_BOTTOM]: (\n      <div\n        style={{\n          color: theme,\n          borderBottom: `2px solid ${theme}`,\n          width: \"100%\",\n          height: \"2rem\",\n        }}\n      >\n        <span data-node-type=\"text\" style={BLOCK_STYLE.h2}>\n          {v}\n        </span>\n      </div>\n    ),\n    [DIVIDER_TYPES.BACKGROUND]: (\n      <div\n        style={{\n          background: theme,\n          padding: 5,\n          width: \"100%\",\n          height: \"2rem\",\n        }}\n      >\n        <span\n          data-node-type=\"text\"\n          style={{ ...BLOCK_STYLE.h2, color: \"#fff\" }}\n        >\n          {v || \"xxxx\"}\n        </span>\n      </div>\n    ),\n    [DIVIDER_TYPES.RADIUS_LINE]: (\n      <div>\n        <p\n          style={{\n            background: theme,\n            padding: 5,\n            width: 150,\n            display: \"inline-block\",\n            borderRadius: 15,\n            textAlign: \"center\",\n            color: \"#fff\",\n            height: \"2rem\",\n          }}\n        >\n          <span data-node-type=\"text\" style={BLOCK_STYLE.h2}>\n            {v || \"xxxx\"}\n          </span>\n        </p>\n        <p\n          style={{\n            borderTop: `2px solid ${theme}`,\n            display: \"inline-block\",\n            height: \"0.5rem\",\n            width: \"calc(100% - 150px)\",\n          }}\n        ></p>\n      </div>\n    ),\n    [DIVIDER_TYPES.RADIUS_LINE_MIDDLE]: (\n      <div>\n        <p\n          style={{\n            borderTop: `2px solid ${theme}`,\n            display: \"inline-block\",\n            height: \"0.5rem\",\n            width: \"calc(50% - 75px)\",\n          }}\n        />\n        <p\n          style={{\n            background: theme,\n            padding: 5,\n            width: 150,\n            display: \"inline-block\",\n            borderRadius: 15,\n            textAlign: \"center\",\n            color: \"#fff\",\n            height: \"2rem\",\n          }}\n        >\n          <span data-node-type=\"text\" style={BLOCK_STYLE.h2}>\n            {v || \"xxxx\"}\n          </span>\n        </p>\n        <p\n          style={{\n            borderTop: `2px solid ${theme}`,\n            display: \"inline-block\",\n            height: \"0.5rem\",\n            width: \"calc(50% - 75px)\",\n          }}\n        />\n      </div>\n    ),\n    [DIVIDER_TYPES.BORDER_LEFT_BG]: (\n      <div>\n        <p\n          style={{\n            borderLeft: `3px solid ${theme}`,\n            height: \"2rem\",\n            lineHeight: \"2rem\",\n            fontSize: \"1.2rem\",\n            fontWeight: 500,\n            width: \"100%\",\n            color: theme,\n            background: colorRgb(theme, 0.13),\n          }}\n        >\n          <span data-node-type=\"text\" style={{ paddingLeft: 10 }}>\n            {v || \"xxxx\"}\n          </span>\n        </p>\n      </div>\n    ),\n  };\n\n  return TYPES[type];\n};\n","import { Modal } from \"antd\";\n\ninterface Props {\n  visible: boolean;\n  setVisible: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport default function ToGithub({ visible, setVisible }: Props) {\n  const handleOk = () => {\n    setVisible(false);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <Modal\n      title=\"打扰🌶\"\n      visible={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okText={\"确定\"}\n      cancelText={\"取消\"}\n    >\n      <p>如果该项目对您有帮助，请点个star让作者知道吧(:</p>\n      <a\n        className=\"pointer text-blue-300 mt-4\"\n        target={\"__blank\"}\n        href=\"https://github.com/MasonEast/MasonEast.github.io\"\n      >\n        去往Github\n      </a>\n    </Modal>\n  );\n}\n","const PRINT_ID = \"print-container\";\n\nfunction setStyle() {\n  const styleContent = `\n    @media print {\n      body > :not(#${PRINT_ID}) {\n        display: none;\n      }\n      html,\n      body {\n        display: block !important;\n        margin: 1cm;\n      }\n      @page {\n        size: A4 portrait;\n        margin: 1cm 0 1cm 1cm;\n        padding: 0;\n      }\n      .footnotes {\n        page-break-after: always;\n      }\n      #${PRINT_ID}: {\n        display: block;\n      }\n    }\n  `;\n  const style = document.createElement(\"style\");\n  style.innerHTML = styleContent;\n  return style;\n}\n\nfunction cleanPrint() {\n  const div = document.querySelector(`#${PRINT_ID}`);\n  if (!!div) {\n    document.body.removeChild(div);\n  }\n}\n\nfunction getContainer(nodes: string[]) {\n  cleanPrint();\n  const container = document.createElement(\"div\");\n  container.setAttribute(\"id\", PRINT_ID);\n\n  container.innerHTML =\n    nodes.length > 1 ? nodes.join('<div class=\"footnotes\"></div>') : nodes[0];\n\n  return container;\n}\n\nfunction afterAllLoad(container: HTMLDivElement) {\n  const imgs = Array.from(container.querySelectorAll(\"img\"));\n\n  if (!imgs.length) {\n    return Promise.resolve();\n  }\n\n  let loadCount = 0;\n\n  return new Promise<void>((resolve) => {\n    const checkFn = () => {\n      loadCount++;\n      if (loadCount === imgs.length) {\n        resolve();\n      }\n    };\n\n    imgs.forEach((img) => {\n      img.addEventListener(\"load\", checkFn);\n      img.addEventListener(\"error\", checkFn);\n    });\n  });\n}\n\nexport default async function print(nodes: string[]) {\n  const style = setStyle();\n  const container = getContainer(nodes);\n\n  document.body.appendChild(style);\n  document.body.appendChild(container);\n\n  await afterAllLoad(container);\n  window.print();\n\n  document.body.removeChild(style);\n  document.body.removeChild(container);\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Dropdown, Menu, Space } from \"antd\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { DownOutlined, LeftOutlined } from \"@ant-design/icons\";\nimport moment from \"moment\";\n\nimport ToGithub from \"../toGithub\";\nimport { Data, BgNodes, Layouts } from \"@/page/editor\";\n\nimport {\n  CONSTANTS,\n  JSON2JSX_ELEMENT,\n  DEFAULT_THEME,\n  EXPORT_TYPE,\n} from \"@/page/editor/constants\";\n\nimport print from \"@/utils/print\";\nimport { handleExportJSON, json2jsx } from \"@/utils\";\nimport { BGIMG } from \"@/constants\";\n\ninterface Props {\n  addBlock: ({ type, text, layout }: Data) => void;\n  theme: string;\n  setTheme: React.Dispatch<React.SetStateAction<string>>;\n  layouts: Layouts[];\n  setLayouts: React.Dispatch<React.SetStateAction<Layouts[]>>;\n  bgNodes: React.CSSProperties[];\n  setBgNodes: React.Dispatch<React.SetStateAction<BgNodes[]>>;\n  setPrintNodes: React.Dispatch<React.SetStateAction<string[]>>;\n  setTotal: React.Dispatch<React.SetStateAction<number>>;\n  setPage: React.Dispatch<React.SetStateAction<number>>;\n  printNodes: string[];\n  page: number;\n}\n\nexport default function Header({\n  layouts,\n  theme,\n  setTheme,\n  setLayouts,\n  bgNodes,\n  setBgNodes,\n  setPrintNodes,\n  setTotal,\n  setPage,\n  printNodes,\n  page,\n}: Props) {\n  const navigate = useNavigate();\n\n  const [toGithubVisible, setToGithubVisible] = useState(false);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.search) {\n      handleChangeTpl(location.search.substring(1));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n\n  const handleChangeTpl = async (key: string) => {\n    let layouts: Layouts[] = [],\n      theme: string = DEFAULT_THEME;\n    let bgNodes: React.CSSProperties[] = [];\n\n    // 加载json文件，后续模板都使用json\n    if (key.includes(\"tpl\")) {\n      const layoutsObj = await import(`@/assets/tpls/${key}.json`);\n      layouts = layoutsObj.layouts;\n      bgNodes = layoutsObj.bgNodes;\n      theme = layoutsObj.theme;\n      if (layoutsObj.bgImg) {\n        navigate(\".\", {\n          state: {\n            bgImg: layoutsObj.bgImg,\n          },\n        });\n      }\n    }\n    if (!layouts.length) return;\n    layouts = layouts.map((item) => {\n      Object.keys(item.block).forEach((subItem) => {\n        const key = subItem.split(\"-\")[0];\n\n        if (JSON2JSX_ELEMENT.includes(key)) {\n          item.block[subItem].text = json2jsx(\n            item.block[subItem].text as JSX.Element\n          );\n        }\n      });\n      return item;\n    });\n    setLayouts(layouts);\n    setTheme(theme);\n    setBgNodes(bgNodes);\n    setTotal(layouts.length);\n    setPage(0);\n  };\n\n  const handleExport = (e: any) => {\n    const type = e.key;\n    switch (type) {\n      case EXPORT_TYPE.PDF:\n        const finalPrintArr = [...printNodes];\n        finalPrintArr[page] = document.querySelector(\n          `#${CONSTANTS.PREVIEW_BOX}${page}`\n        )!.innerHTML;\n\n        setPrintNodes(finalPrintArr);\n\n        print(finalPrintArr);\n        setToGithubVisible(true);\n        break;\n      case EXPORT_TYPE.JSON:\n        handleExportJSON({\n          name: `个人简历-${moment().format(\"YYYY-MM-DD\")}.json`,\n          data: {\n            layouts,\n            theme,\n            bgNodes,\n            bgImg: (location.state as any)?.[BGIMG],\n          },\n        });\n        break;\n    }\n  };\n\n  const exportMenu = (\n    <Menu\n      onClick={handleExport}\n      items={[\n        {\n          label: \"PDF\",\n          key: EXPORT_TYPE.PDF,\n        },\n        {\n          label: \"JSON\",\n          key: EXPORT_TYPE.JSON,\n        },\n      ]}\n    />\n  );\n\n  return (\n    <header className=\"fixed w-full bg-white z-10 py-2 px-2 shadow-xl flex justify-between items-center\">\n      <LeftOutlined className=\"text-2xl\" onClick={() => navigate(\"/bgs\")} />\n      <Dropdown overlay={exportMenu}>\n        <Button type=\"dashed\">\n          <Space>\n            导出\n            <DownOutlined className=\"leading-6\" />\n          </Space>\n        </Button>\n      </Dropdown>\n      <ToGithub visible={toGithubVisible} setVisible={setToGithubVisible} />\n    </header>\n  );\n}\n","import { SettingOutlined } from \"@ant-design/icons\";\nimport { Form, Popconfirm, Radio } from \"antd\";\nimport { Layouts, MyElement } from \"../..\";\n\ninterface Props {\n  setLayouts: React.Dispatch<React.SetStateAction<Layouts[]>>;\n  layoutKey: string;\n  page: number;\n}\n\nexport default function Setting({ setLayouts, layoutKey, page }: Props) {\n  const [form] = Form.useForm();\n\n  const handleOk = () => {\n    setLayouts((data) => {\n      const arr = [...data];\n\n      let v = arr[page].block[layoutKey];\n\n      arr[page].block[layoutKey] = {\n        ...v,\n        style: form.getFieldsValue() || {},\n      };\n\n      if (layoutKey.includes(\"img\")) {\n        (v.text as MyElement).props.style = form.getFieldsValue() || {};\n      }\n\n      return arr;\n    });\n  };\n\n  const content = (\n    <Form form={form}>\n      {layoutKey.includes(\"img\") ? (\n        <>\n          <Form.Item name=\"borderRadius\" label=\"图片形状\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"正方形\",\n                  value: \"0\",\n                },\n                {\n                  label: \"圆形\",\n                  value: \"50%\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item name=\"border\" label=\"外边框\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"是\",\n                  value: \"10px solid #fff\",\n                },\n                {\n                  label: \"否\",\n                  value: \"0\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item name=\"borderColor\" label=\"外边框颜色\">\n            <Radio.Group\n              options={[\n                {\n                  label: (\n                    <span className=\"inline-block h-3 w-3  bg-yellow-500\" />\n                  ),\n                  value: \"#F59E0B\",\n                },\n                {\n                  label: <span className=\"inline-block h-3 w-3  bg-gray-300\" />,\n                  value: \"#D1D5DB\",\n                },\n                {\n                  label: <span className=\"inline-block h-3 w-3  bg-red-400\" />,\n                  value: \"#F87171\",\n                },\n                {\n                  label: (\n                    <span className=\"inline-block h-3 w-3  bg-green-300\" />\n                  ),\n                  value: \"#6EE7B7\",\n                },\n              ]}\n            />\n          </Form.Item>\n        </>\n      ) : (\n        <>\n          <Form.Item name=\"color\" label=\"字体颜色\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"白色\",\n                  value: \"#fff\",\n                },\n                {\n                  label: \"黑色\",\n                  value: \"#000\",\n                },\n                {\n                  label: \"灰色\",\n                  value: \"#ccc\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item label=\"字体大小\" name=\"fontSize\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"正常\",\n                  value: \"1rem\",\n                },\n                {\n                  label: \"小号\",\n                  value: \"1.1rem\",\n                },\n                {\n                  label: \"中号\",\n                  value: \"1.2rem\",\n                },\n                {\n                  label: \"大号\",\n                  value: \"1.3rem\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item label=\"字体粗细\" name=\"fontWeight\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"正常\",\n                  value: \"\",\n                },\n                {\n                  label: \"加粗\",\n                  value: \"500\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item label=\"字体位置\" name=\"textAlign\">\n            <Radio.Group\n              options={[\n                {\n                  label: \"左对齐\",\n                  value: \"left\",\n                },\n                {\n                  label: \"居中\",\n                  value: \"center\",\n                },\n                {\n                  label: \"右对齐\",\n                  value: \"right\",\n                },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item label=\"背景颜色\" name=\"background\">\n            <Radio.Group\n              options={[\n                {\n                  label: (\n                    <span className=\"inline-block h-3 w-3  bg-yellow-500\" />\n                  ),\n                  value: \"#F59E0B\",\n                },\n                {\n                  label: <span className=\"inline-block h-3 w-3  bg-gray-300\" />,\n                  value: \"#D1D5DB\",\n                },\n                {\n                  label: <span className=\"inline-block h-3 w-3  bg-red-400\" />,\n                  value: \"#F87171\",\n                },\n                {\n                  label: (\n                    <span className=\"inline-block h-3 w-3  bg-green-300\" />\n                  ),\n                  value: \"#6EE7B7\",\n                },\n              ]}\n            />\n          </Form.Item>\n        </>\n      )}\n    </Form>\n  );\n  return (\n    <Popconfirm\n      title={content}\n      onConfirm={handleOk}\n      icon={null}\n      // onCancel={cancel}\n      okText=\"确定\"\n      cancelText=\"取消\"\n    >\n      <SettingOutlined\n        className=\"absolute top-0 left-3 text-localxs cursor-pointer\"\n        // onClick={() => handleSetBlock(item.i)}\n      />\n    </Popconfirm>\n  );\n}\n","import { CopyOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport React from \"react\";\nimport GridLayout, { Layout } from \"react-grid-layout\";\nimport _ from \"lodash\";\nimport { CONSTANTS, NO_Edit_TYPE } from \"@/page/editor/constants\";\n\nimport { Data, Layouts } from \"@/page/editor\";\nimport Setting from \"../setting\";\n\ninterface Props {\n  data: Layouts;\n  setLayouts: React.Dispatch<React.SetStateAction<Layouts[]>>;\n  addBlock: ({ type, text, layout }: Data) => void;\n  page: number;\n  index: number;\n  isEdit?: boolean;\n}\n\nexport default function MyGridLayout({\n  data,\n  addBlock,\n  setLayouts,\n  page,\n  index,\n  isEdit = true,\n}: Props) {\n  const handleLayoutChange = (layouts: Layout[], i: number) => {\n    setLayouts((pre) => {\n      const arr = [...pre];\n      arr[i].layout = layouts;\n      return arr;\n    });\n  };\n\n  const handleBlockChange = (\n    key: string,\n    e: React.FocusEvent<HTMLParagraphElement>\n  ) => {\n    const node = e.target as HTMLElement;\n\n    setLayouts((layouts) => {\n      const arr = _.cloneDeep(layouts);\n      arr[page].block[key].text = node.innerText;\n\n      return arr;\n    });\n  };\n\n  const handleCopyBlock = (key: string) => {\n    const i = data.layout.findIndex((item) => item.i === key);\n    i !== -1 &&\n      addBlock({\n        type: data.block[key].type,\n        text: data.block[key].text,\n        layout: {\n          ...data.layout[i],\n          i: data.layout[i].i.split(\"-\")[0] + \"-\" + Date.now(),\n        },\n        style: data.block[key].style,\n      });\n  };\n\n  const handleDeleteBlock = (key: string) => {\n    const i = data.layout.findIndex((item) => item.i === key);\n    setLayouts((pre) => {\n      const arr = [...pre];\n      arr[page].layout.splice(i, 1);\n      delete arr[page].block[key];\n      return arr;\n    });\n  };\n\n  const isContentEditable = (key: string) => {\n    return !NO_Edit_TYPE.includes(key.split(\"-\")[0]);\n  };\n\n  const blockStyleFn = (key: string) => {\n    // 图片样式直接作用在图片元素\n    if (key.includes(CONSTANTS.IMG)) {\n      return {};\n    }\n    return data.block[key]?.style;\n  };\n\n  return (\n    <GridLayout\n      layout={data.layout}\n      cols={24}\n      width={630}\n      margin={[5, 2]}\n      rowHeight={20}\n      isDraggable={isEdit}\n      isResizable={isEdit}\n      onLayoutChange={(layouts) => handleLayoutChange(layouts, index)}\n      style={{ display: page === index ? \"block\" : \"none\", zIndex: 5 }}\n    >\n      {data.layout.map((subItem) => {\n        const key = subItem.i;\n        const text = data.block[key]?.text;\n\n        const node =\n          typeof text === \"string\" || React.isValidElement(text)\n            ? text\n            : React.createElement(text?.type || \"\", text?.props);\n\n        return isEdit ? (\n          <div key={key}>\n            <div\n              onBlur={(e) => handleBlockChange(key, e)}\n              contentEditable={isContentEditable(key)}\n              suppressContentEditableWarning\n              className=\"bg-gray-200 h-full leading-normal py-2 px-1\"\n              style={blockStyleFn(key)}\n            >\n              {node}\n            </div>\n            <CopyOutlined\n              className=\"absolute top-0 left-0 text-localxs cursor-pointer\"\n              onClick={() => handleCopyBlock(key)}\n            />\n            <Setting setLayouts={setLayouts} layoutKey={key} page={page} />\n\n            <CloseOutlined\n              className=\"absolute top-0 right-0 text-localxs cursor-pointer\"\n              onClick={() => handleDeleteBlock(key)}\n            />\n          </div>\n        ) : (\n          <div key={key}>\n            <div\n              className=\" h-full leading-normal py-2 px-1\"\n              style={blockStyleFn(subItem.i)}\n            >\n              {node}\n            </div>\n          </div>\n        );\n      })}\n    </GridLayout>\n  );\n}\n","/*\n * @Description:\n * @Date: 2022-07-26 18:06:31\n * @Author: mason\n */\nimport { Popover } from \"antd\";\nimport { ToolIconClass } from \"../tools\";\n\ninterface Props {\n  handleIconClick: (e: React.MouseEvent<HTMLUListElement, MouseEvent>) => void;\n}\n\nconst icons = [\n  \"icon-github\",\n  \"icon-facebookfacebook52\",\n  \"icon-email\",\n  \"icon-wo\",\n  \"icon-dianhuatianchong\",\n  \"icon-nvsheng\",\n  \"icon-nansheng\",\n  \"icon-jiaoyu2\",\n  \"icon-xiangmu\",\n  \"icon-rongyu\",\n  \"icon-kaiyuan\",\n  \"icon-nianling\",\n  \"icon-qiandai\",\n  // \"icon-qian\",\n  \"icon-xihuan\",\n  \"icon-ziwopingjia\",\n  \"icon-jinengbiaoqian\",\n  \"icon-gongzuonianxian\",\n  \"icon-gongzuonianxian1\",\n];\n\nexport default function Icons({ handleIconClick }: Props) {\n  const iconContent = (\n    <ul\n      className=\"flex flex-wrap justify-around w-60\"\n      onClick={handleIconClick}\n    >\n      {icons.map((item) => (\n        <ol key={item}>\n          <i\n            title={item}\n            className={`iconfont ${item} rounded-full h-10 w-10 m-3 cursor-pointer`}\n          ></i>\n        </ol>\n      ))}\n    </ul>\n  );\n\n  return (\n    <Popover content={iconContent} placement=\"leftTop\">\n      <i className={`${ToolIconClass} icon-tubiao1`} />\n    </Popover>\n  );\n}\n","import { Popover } from \"antd\";\nimport { ToolIconClass } from \"../tools\";\n\ninterface Props {\n  handleThemeClick: (e: React.MouseEvent<HTMLUListElement, MouseEvent>) => void;\n}\n\nexport default function Themes({ handleThemeClick }: Props) {\n  const themeContent = (\n    <ul\n      className=\"flex flex-wrap justify-around w-40\"\n      onClick={handleThemeClick}\n    >\n      <ol\n        title=\"black\"\n        className=\"rounded-full h-5 w-5 m-2 cursor-pointer bg-black\"\n      />\n      <ol\n        title=\"#F59E0B\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-yellow-500\"\n      />\n      <ol\n        title=\"#D1D5DB\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-gray-300\"\n      />\n      <ol\n        title=\"#F87171\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-red-400\"\n      />\n      <ol\n        title=\"#6EE7B7\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-green-300\"\n      />\n      <ol\n        title=\"#93C5FD\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-blue-300\"\n      />\n      <ol\n        title=\"#818CF8\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-indigo-400\"\n      />\n      <ol\n        title=\"#8B5CF6\"\n        className=\"rounded-full h-5 w-5 m-2  cursor-pointer bg-purple-500\"\n      />\n    </ul>\n  );\n\n  return (\n    <Popover content={themeContent} placement=\"leftTop\">\n      <i className={`${ToolIconClass} icon-zhutise`} />\n    </Popover>\n  );\n}\n","import { Form, Input, Modal, Radio, Space } from \"antd\";\n\nimport {\n  DIVIDER_TYPES,\n  DIVIDER_TYPES_FN,\n  CONSTANTS,\n} from \"@/page/editor/constants\";\nimport { Data } from \"@/page/editor\";\n\ninterface Props {\n  visible: boolean;\n  setVisible: React.Dispatch<React.SetStateAction<boolean>>;\n  addBlock: ({ type, text, layout }: Data) => void;\n  theme?: string;\n}\n\nexport default function Divider({\n  visible,\n  setVisible,\n  addBlock,\n  theme,\n}: Props) {\n  const [form] = Form.useForm();\n  const handleOk = () => {\n    form.validateFields().then((v) => {\n      const { type, props, key } = DIVIDER_TYPES_FN(v.type, v.title, theme);\n\n      addBlock({\n        type: v.type,\n        title: v.title,\n        layout: {\n          i: `${CONSTANTS.DIVIDER}-${Date.now()}`,\n          w: 24,\n          h: 2,\n        },\n        text: {\n          type,\n          props,\n          key,\n        },\n      });\n      setVisible(false);\n    });\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <Modal\n      title=\"分割线\"\n      visible={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okText={\"确定\"}\n      cancelText={\"取消\"}\n    >\n      <Form form={form}>\n        <Form.Item label=\"分割线标题\" name=\"title\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item noStyle shouldUpdate>\n          {({ getFieldValue }) => {\n            const v = getFieldValue(\"title\");\n            return (\n              <Form.Item\n                label=\"分割线样式\"\n                name=\"type\"\n                initialValue={DIVIDER_TYPES.LINE_BOTTOM}\n              >\n                <Radio.Group>\n                  <Space direction=\"vertical\">\n                    {Object.values(DIVIDER_TYPES).map((item) => (\n                      <Radio value={item}>\n                        <div style={{ width: 350 }}>\n                          {DIVIDER_TYPES_FN(item, v)}\n                        </div>\n                      </Radio>\n                    ))}\n                  </Space>\n                </Radio.Group>\n              </Form.Item>\n            );\n          }}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import { Form, Input, Modal, Radio, Space } from \"antd\";\n\nimport { CONSTANTS, TAG_TYPES, TAG_TYPES_FN } from \"@/page/editor/constants\";\nimport { Data } from \"@/page/editor\";\n\ninterface Props {\n  visible: boolean;\n  setVisible: React.Dispatch<React.SetStateAction<boolean>>;\n  addBlock: ({ type, text, layout }: Data) => void;\n  theme?: string;\n}\n\nexport default function Tag({ visible, setVisible, addBlock, theme }: Props) {\n  const [form] = Form.useForm();\n  const handleOk = () => {\n    form.validateFields().then((v) => {\n      const { type, props, key } = TAG_TYPES_FN(v.type, v.title, theme);\n      addBlock({\n        type: v.type,\n        title: v.title,\n        layout: {\n          i: `${CONSTANTS.TAG}-${Date.now()}`,\n          w: 3,\n          h: 2,\n        },\n        text: {\n          type,\n          props,\n          key,\n        },\n      });\n      setVisible(false);\n    });\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <Modal\n      title=\"Tag标签\"\n      visible={visible}\n      onOk={handleOk}\n      onCancel={handleCancel}\n      okText={\"确定\"}\n      cancelText={\"取消\"}\n    >\n      <Form form={form}>\n        <Form.Item label=\"tag标题\" name=\"title\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item noStyle shouldUpdate>\n          {({ getFieldValue }) => {\n            const v = getFieldValue(\"title\");\n            return (\n              <Form.Item\n                label=\"tag样式\"\n                name=\"type\"\n                initialValue={TAG_TYPES.BASIC}\n              >\n                <Radio.Group>\n                  <Space direction=\"vertical\">\n                    <Radio value={TAG_TYPES.BASIC}>\n                      <div style={{ width: 350 }}>\n                        {TAG_TYPES_FN(TAG_TYPES.BASIC, v)}\n                      </div>\n                    </Radio>\n                    <Radio value={TAG_TYPES.BASIC_BG}>\n                      <div style={{ width: 350 }}>\n                        {TAG_TYPES_FN(TAG_TYPES.BASIC_BG, v)}\n                      </div>\n                    </Radio>\n                    <Radio value={TAG_TYPES.RECTANGLE}>\n                      <div style={{ width: 350 }}>\n                        {TAG_TYPES_FN(TAG_TYPES.RECTANGLE, v)}\n                      </div>\n                    </Radio>\n                    <Radio value={TAG_TYPES.RECTANGLE_BG}>\n                      <div style={{ width: 350 }}>\n                        {TAG_TYPES_FN(TAG_TYPES.RECTANGLE_BG, v)}\n                      </div>\n                    </Radio>\n                  </Space>\n                </Radio.Group>\n              </Form.Item>\n            );\n          }}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import { Dropdown, Menu } from \"antd\";\nimport { BgNodes } from \"../..\";\nimport { BG_POSITION } from \"@/page/editor/constants\";\nimport { ToolIconClass } from \"../tools\";\n\ninterface Props {\n  setBgNodes: React.Dispatch<React.SetStateAction<BgNodes[]>>;\n}\n\nexport default function BgNode({ setBgNodes }: Props) {\n  const handleAddBgBlock = (e: any) => {\n    let style: React.CSSProperties = {\n      width: \"calc(100% - 1rem)\",\n      height: \"11.5rem\",\n    };\n    switch (e.key) {\n      case BG_POSITION.LEFT:\n        style = {\n          width: \"11.5rem\",\n          height: \"calc(100% - 1rem)\",\n        };\n        break;\n      case BG_POSITION.BOTTOM:\n        style = {\n          ...style,\n          bottom: \"0.5rem\",\n        };\n        break;\n      case BG_POSITION.RIGHT:\n        style = {\n          width: \"11.5rem\",\n          height: \"calc(100% - 1rem)\",\n          right: \"0.5rem\",\n        };\n        break;\n    }\n\n    setBgNodes((v) => {\n      return [...v, style];\n    });\n  };\n\n  const bgBlocks = (\n    <Menu\n      onClick={handleAddBgBlock}\n      items={[\n        {\n          label: \"上背景\",\n          key: BG_POSITION.TOP,\n        },\n        {\n          label: \"左背景\",\n          key: BG_POSITION.LEFT,\n        },\n        {\n          label: \"右背景\",\n          key: BG_POSITION.RIGHT,\n        },\n        {\n          label: \"下背景\",\n          key: BG_POSITION.BOTTOM,\n        },\n      ]}\n    />\n  );\n\n  return (\n    <Dropdown overlay={bgBlocks}>\n      <i className={`${ToolIconClass} icon-dikuai`} />\n    </Dropdown>\n  );\n}\n","import { useState } from \"react\";\n\nimport { BgNodes, Data, JSONData, Layouts } from \"../..\";\nimport { CONSTANTS, JSON2JSX_ELEMENT, TYPE } from \"@/page/editor/constants\";\nimport Icons from \"../icons\";\nimport Themes from \"../themes\";\nimport DividerModal from \"../divider\";\nimport TagModal from \"../tag\";\nimport { handleImportJSON, json2jsx } from \"@/utils\";\nimport { useNavigate } from \"react-router\";\nimport BgNode from \"../bgNode\";\n\ninterface Props {\n  addBlock: ({ type, text, layout }: Data) => void;\n  theme: string;\n  setTheme: React.Dispatch<React.SetStateAction<string>>;\n  setLayouts: React.Dispatch<React.SetStateAction<Layouts[]>>;\n  setBgNodes: React.Dispatch<React.SetStateAction<BgNodes[]>>;\n  setPrintNodes: React.Dispatch<React.SetStateAction<string[]>>;\n  setTotal: React.Dispatch<React.SetStateAction<number>>;\n  setPage: React.Dispatch<React.SetStateAction<number>>;\n  printNodes: string[];\n  page: number;\n}\n\nexport const ToolIconClass =\n  \"text-2xl iconfont pt-3 pl-2.5 text-white cursor-pointer\";\n\nexport default function Tools({\n  addBlock,\n  theme,\n  setTheme,\n  setBgNodes,\n  setLayouts,\n  setTotal,\n  setPage,\n}: Props) {\n  const [dividerModalVisible, setDividerModalVisible] = useState(false);\n  const [tagModalVisible, setTagModalVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const handleAddBlock = (type: string) => {\n    if (type === TYPE.DIVIDER) {\n      setDividerModalVisible(true);\n\n      return;\n    }\n    if (type === TYPE.TAG) {\n      setTagModalVisible(true);\n\n      return;\n    }\n    addBlock({\n      type,\n      text: \"\",\n      layout: {\n        w: 6,\n        h: 2,\n      },\n    });\n  };\n\n  const handleIconClick = (\n    e: React.MouseEvent<HTMLUListElement, MouseEvent>\n  ) => {\n    const icon = (e.target as HTMLUListElement).title;\n    addBlock({\n      type: \"icon\",\n      text: {\n        type: \"i\",\n        props: {\n          className: `iconfont ${icon}`,\n        },\n      },\n      layout: {\n        i: `${CONSTANTS.ICON}-${Date.now()}`,\n        w: 2,\n        h: 2,\n      },\n    });\n  };\n\n  const handleUploadPicture = () => {\n    var reads = new FileReader();\n    const input = document.getElementById(\"uploadImage\") as HTMLInputElement;\n    const f = input.files?.[0] as File;\n\n    reads.readAsDataURL(f);\n    reads.onload = (e) => {\n      addBlock({\n        type: \"img\",\n        text: {\n          type: \"img\",\n          props: {\n            className: \"h-full\",\n            src: e.target?.result,\n            alt: \"\",\n          },\n        },\n        layout: {\n          i: `${CONSTANTS.IMG}-${Date.now()}`,\n          w: 6,\n          h: 6,\n        },\n      });\n    };\n  };\n\n  const handleThemeClick = (\n    e: React.MouseEvent<HTMLUListElement, MouseEvent>\n  ) => {\n    const color = (e.target as HTMLUListElement).title;\n    setTheme(color);\n  };\n\n  const importJSONCallback = (data: JSONData) => {\n    let { layouts = [], theme = \"\", bgNodes = [], bgImg } = data;\n    layouts = layouts.map((item) => {\n      Object.keys(item.block).forEach((subItem) => {\n        const key = subItem.split(\"-\")[0];\n\n        if (JSON2JSX_ELEMENT.includes(key)) {\n          item.block[subItem].text = json2jsx(\n            item.block[subItem].text as JSX.Element\n          );\n        }\n      });\n      return item;\n    });\n    setLayouts(layouts);\n    setTheme(theme);\n    setBgNodes(bgNodes);\n    setTotal(layouts.length);\n    setPage(0);\n    if (bgImg) {\n      navigate(\".\", {\n        state: { bgImg },\n      });\n    }\n  };\n\n  return (\n    <>\n      <div className=\"fixed z-10 top-12 left-0 w-12 h-full pt-10 flex flex-col bg-gray-900 \">\n        <i\n          className={`${ToolIconClass} icon-kuaibuju`}\n          onClick={() => handleAddBlock(TYPE.P)}\n        />\n        <i\n          className={`${ToolIconClass} icon-biaoti`}\n          onClick={() => handleAddBlock(TYPE.DIVIDER)}\n        />\n        <i\n          className={`${ToolIconClass} icon-24gl-tags4`}\n          onClick={() => handleAddBlock(TYPE.TAG)}\n        />\n        <Icons handleIconClick={handleIconClick} />\n        <Themes handleThemeClick={handleThemeClick} />\n        <div className=\"mt-2\">\n          <input\n            className=\"hidden\"\n            accept=\"image/*\"\n            id=\"uploadImage\"\n            onChange={handleUploadPicture}\n            type=\"file\"\n          />\n          <label htmlFor=\"uploadImage\">\n            <i className={`${ToolIconClass} icon-tupian`} />\n          </label>\n        </div>\n        <BgNode setBgNodes={setBgNodes} />\n\n        <i\n          className={`${ToolIconClass} icon-jurassic_import-form absolute bottom-20 left-0 z-10`}\n          onClick={() => handleImportJSON(importJSONCallback)}\n        />\n      </div>\n      <DividerModal\n        visible={dividerModalVisible}\n        setVisible={setDividerModalVisible}\n        addBlock={addBlock}\n        theme={theme}\n      />\n      <TagModal\n        visible={tagModalVisible}\n        setVisible={setTagModalVisible}\n        addBlock={addBlock}\n        theme={theme}\n      />\n    </>\n  );\n}\n","import React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { Button, Modal, Tooltip } from \"antd\";\nimport {\n  CloseOutlined,\n  LeftSquareOutlined,\n  RightSquareOutlined,\n  PlusSquareOutlined,\n} from \"@ant-design/icons\";\nimport { Layout } from \"react-grid-layout\";\nimport _ from \"lodash\";\nimport { useLocation } from \"react-router-dom\";\n\nimport {\n  CONSTANTS,\n  DEFAULT_THEME,\n  DIVIDER_TYPES_FN,\n  LOCAL_STORAGE,\n  TAG_TYPES_FN,\n} from \"./constants\";\nimport Header from \"./components/header\";\n\nimport MyGridLayout from \"./components/gridLayout\";\nimport Tools from \"./components/tools\";\nimport { BGIMG } from \"@/constants\";\n\nimport guide from \"@/assets/guide.png\";\n\nexport type MyElement = {\n  type: string;\n  props: Record<string, any>;\n  key?: string | number;\n};\n\nexport type Data = {\n  text: MyElement | string | JSX.Element;\n  type: string;\n  title?: string;\n  theme?: string;\n  layout?: Partial<Layout>;\n  style?: React.CSSProperties;\n  reload?: boolean;\n};\n\nexport type BgNodes = React.CSSProperties;\nexport interface EnhanceLayout extends Layout {\n  data: Data;\n}\n\nexport type Layouts = {\n  block: Record<string, Data>;\n  layout: Layout[];\n};\n\nexport type JSONData = {\n  layouts?: Layouts[];\n  theme?: string;\n  bgNodes?: React.CSSProperties[];\n  bgImg?: string;\n};\n\nfunction App() {\n  const [page, setPage] = useState(0);\n  const [total, setTotal] = useState(1);\n  const [layouts, setLayouts] = useState<Layouts[]>([\n    {\n      block: {},\n      layout: [],\n    },\n  ]);\n  const [theme, setTheme] = useState(DEFAULT_THEME);\n  const [bgNodes, setBgNodes] = useState<BgNodes[]>([]);\n  const [printNodes, setPrintNodes] = useState<string[]>([]);\n\n  const [guideVisible, setGuideVisible] = useState(false);\n  const locationParams = useLocation();\n\n  useLayoutEffect(() => {\n    const guideStatus = localStorage.getItem(LOCAL_STORAGE.GUIDE);\n    if (guideStatus === LOCAL_STORAGE.GUIDE_STATUS) {\n      setGuideVisible(false);\n    } else {\n      setGuideVisible(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    setLayouts((data) => {\n      const arr = [...data];\n      Object.keys(data[page].block).forEach((item) => {\n        const nodeType = item.split(\"-\")[0];\n        const block = layouts[page].block[item];\n        switch (nodeType) {\n          // divider和tag主题跟随\n          case CONSTANTS.DIVIDER:\n          case CONSTANTS.TAG: {\n            const { type: bType, title } = block;\n\n            const fn =\n              nodeType === CONSTANTS.TAG ? TAG_TYPES_FN : DIVIDER_TYPES_FN;\n\n            const { type, props, key } = fn(bType, title, theme);\n\n            arr[page].block[item] = {\n              ...block,\n              text: {\n                type,\n                props,\n                key,\n              },\n              theme,\n            };\n            break;\n          }\n        }\n      });\n\n      return arr;\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [theme, page]);\n\n  const addBlock = ({\n    type = \"p\",\n    text = \"\",\n    title,\n    theme,\n    layout = {},\n    style = {},\n  }: Data) => {\n    const key = layout.i || \"p-\" + Date.now() + layouts[page].layout.length;\n    // 如果没有坐标信息，默认添加到末尾\n    if (!layout.y && layout.y !== 0) {\n      const lastY = layouts[page].layout.reduce(\n        (pre, cur) => Math.max(pre, cur.y),\n        0\n      );\n      layout.y = lastY;\n      layout.x = 0;\n    }\n\n    layout.i = key;\n\n    setLayouts((layouts) => {\n      const arr = _.cloneDeep(layouts);\n\n      arr[page].layout.push(layout as Layout);\n      arr[page].block[key] = {\n        type,\n        text,\n        title,\n        theme,\n        style,\n      };\n\n      return arr;\n    });\n  };\n\n  const handleDeleteBgNode = (i: number) => {\n    setBgNodes((n) => {\n      const arr = [...n];\n      arr.splice(i, 1);\n      return arr;\n    });\n  };\n\n  const handlePre = () => {\n    setPrintNodes((v) => {\n      const arr = [...v];\n\n      arr[page] = document.querySelector(\n        `#${CONSTANTS.PREVIEW_BOX}${page}`\n      )!.innerHTML;\n      return arr;\n    });\n    setPage(page - 1);\n  };\n\n  const handleNext = () => {\n    const node = document.querySelector(`#${CONSTANTS.PREVIEW_BOX}${page}`)!;\n\n    setPrintNodes((v) => {\n      const arr = [...v];\n      arr[page] = node.innerHTML;\n      return arr;\n    });\n    setPage(page + 1);\n    if (page + 1 === total) {\n      setLayouts([\n        ...layouts,\n        {\n          layout: [],\n          block: {},\n        },\n      ]);\n      setTotal(total + 1);\n    }\n  };\n\n  const handleCloseGuide = () => {\n    setGuideVisible(false);\n    localStorage.setItem(LOCAL_STORAGE.GUIDE, LOCAL_STORAGE.GUIDE_STATUS);\n  };\n\n  // 背景图片\n  const bgImgNode = (\n    <img\n      src={(locationParams.state as any)?.[BGIMG]}\n      alt=\"\"\n      style={{\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n        width: \"100%\",\n        height: \"100%\",\n      }}\n    />\n  );\n\n  return (\n    <div className=\"App\">\n      <Header\n        addBlock={addBlock}\n        theme={theme}\n        setTheme={setTheme}\n        layouts={layouts}\n        setLayouts={setLayouts}\n        bgNodes={bgNodes}\n        setBgNodes={setBgNodes}\n        printNodes={printNodes}\n        setPrintNodes={setPrintNodes}\n        setTotal={setTotal}\n        setPage={setPage}\n        page={page}\n      />\n      <div className=\"flex justify-around bg-gray-100 py-16 pl-10\">\n        {/* edit */}\n        <Tools\n          addBlock={addBlock}\n          theme={theme}\n          setTheme={setTheme}\n          setLayouts={setLayouts}\n          setBgNodes={setBgNodes}\n          printNodes={printNodes}\n          setPrintNodes={setPrintNodes}\n          setTotal={setTotal}\n          setPage={setPage}\n          page={page}\n        />\n        <div className=\"w-6/12 flex justify-center relative\">\n          <div\n            className=\"mx-1 my-4 layout-box bg-white p-2 min-h-screen relative\"\n            style={{ height: 1050 }}\n          >\n            {bgImgNode}\n            {bgNodes.map((item, i) => (\n              <div\n                style={{\n                  position: \"absolute\",\n                  backgroundColor: theme,\n                  ...item,\n                }}\n                key={i}\n              >\n                <CloseOutlined\n                  className=\"absolute top-0 right-0 text-localxs cursor-pointer z-10\"\n                  onClick={() => handleDeleteBgNode(i)}\n                />\n              </div>\n            ))}\n            {layouts.map((item, i) => (\n              <MyGridLayout\n                key={i}\n                data={item}\n                addBlock={addBlock}\n                setLayouts={setLayouts}\n                page={page}\n                index={i}\n              />\n            ))}\n          </div>\n          <Tooltip title=\"上一页\">\n            <LeftSquareOutlined\n              className=\"absolute text-gray-300 left-12\"\n              style={{\n                fontSize: 40,\n                top: \"40%\",\n                display: page === 0 ? \"none\" : \"block\",\n              }}\n              onClick={handlePre}\n            />\n          </Tooltip>\n\n          {page + 1 === layouts.length ? (\n            <Tooltip title=\"新增一页\">\n              <PlusSquareOutlined\n                className=\"absolute text-gray-300 right-12\"\n                style={{\n                  fontSize: 40,\n                  top: \"40%\",\n                }}\n                onClick={handleNext}\n              />\n            </Tooltip>\n          ) : (\n            <Tooltip title=\"下一页\">\n              <RightSquareOutlined\n                className=\"absolute text-gray-300 right-12\"\n                style={{\n                  fontSize: 40,\n                  top: \"40%\",\n                }}\n                onClick={handleNext}\n              />\n            </Tooltip>\n          )}\n        </div>\n        {/* show */}\n        <div\n          id={`${CONSTANTS.PREVIEW_BOX}${page}`}\n          className=\"w-6/12  flex justify-center\"\n        >\n          <div\n            className=\"mx-1 my-4 layout-box bg-white p-2 min-h-screen relative\"\n            style={{ height: 1050 }}\n          >\n            {bgImgNode}\n            <div>\n              {bgNodes.map((item) => (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    backgroundColor: theme,\n                    ...item,\n                  }}\n                ></div>\n              ))}\n              {layouts.map((item, i) => (\n                <MyGridLayout\n                  key={`show${i}`}\n                  data={item}\n                  addBlock={addBlock}\n                  setLayouts={setLayouts}\n                  page={page}\n                  index={i}\n                  isEdit={false}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <Modal\n        footer={[\n          <Button type=\"primary\" onClick={handleCloseGuide}>\n            知道了\n          </Button>,\n        ]}\n        closable={false}\n        maskClosable={false}\n        visible={guideVisible}\n      >\n        <img src={guide} alt=\"\" />\n      </Modal>\n    </div>\n  );\n}\n\nexport default App;\n","import { message } from \"antd\";\nimport { JSONData } from \"../page/editor\";\n\n/**\n *url2base64\n * @param url 图片路径\n * @param ext 图片格式\n */\nexport function getUrlBase64(\n  url: string,\n  ext: string = \"jpeg\"\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n    const img = new Image();\n    img.src = url;\n\n    img.onload = function () {\n      canvas.height = img.height;\n      canvas.width = img.width;\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n      const dataURL = canvas.toDataURL(\"image/\" + ext);\n      resolve(dataURL);\n      canvas.remove();\n    };\n\n    img.onerror = () => reject(\"加载失败\");\n  });\n}\n\n/**\n *深拷贝\n * @param url 图片路径\n * @param ext 图片格式\n */\nexport function deepCopy(obj: any) {\n  let result: any;\n  if (typeof obj === \"object\") {\n    result = obj.constructor === Array ? [] : {};\n    for (let i in obj) {\n      result[i] = typeof obj[i] === \"object\" ? deepCopy(obj[i]) : obj[i];\n    }\n  } else {\n    result = obj;\n  }\n  return result;\n}\n\n/**\n *给json加reactelement的symbol\n */\n\nexport function json2jsx(data: JSX.Element) {\n  const { type, props, key } = data;\n  const res: React.ReactElement<any, any> = {\n    type,\n    props,\n    key,\n  };\n  if (props?.children) {\n    if (Array.isArray(props.children)) {\n      props.children.forEach((item: any) => {\n        if (typeof item !== \"string\" && !item[\"$$typeof\"]) {\n          item[\"$$typeof\"] = Symbol.for(\"react.element\");\n          json2jsx(item);\n        }\n      });\n    } else {\n      if (typeof props.children !== \"string\" && !props.children[\"$$typeof\"]) {\n        props.children[\"$$typeof\"] = Symbol.for(\"react.element\");\n        json2jsx(props.children);\n      }\n    }\n  }\n  return res;\n}\n\n/**\n *16进制颜色转rgba\n * @param colorStr 16进制颜色\n * @param opacity 透明度\n */\nexport function colorRgb(colorStr: string, opacity?: number) {\n  //十六进制颜色值的正则表达式\n  let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\n  let sColor = colorStr.toLowerCase();\n  if (sColor && reg.test(sColor)) {\n    if (sColor.length === 4) {\n      let sColorNew = \"#\";\n      for (let i = 1; i < 4; i += 1) {\n        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));\n      }\n      sColor = sColorNew;\n    }\n    //处理六位的颜色值f\n    const colorArr = [];\n    for (let i = 1; i < 7; i += 2) {\n      colorArr.push(parseInt(\"0x\" + sColor.slice(i, i + 2)));\n    }\n    if (opacity !== 0 && !opacity) {\n      opacity = 1;\n    }\n    colorArr.push(opacity);\n    return \"rgba(\" + colorArr.join(\",\") + \")\";\n  } else {\n    return sColor;\n  }\n}\n\n/**\n *解决JSON.stringify死循环的问题\n */\nexport const getCircularReplacer = () => {\n  return (key: string, value: any) => {\n    const arr = [\"elementType\", \"$$typeof\", \"Provider\", \"_owner\"];\n    if (arr.includes(key)) {\n      return;\n    }\n    return value;\n  };\n};\n\ninterface ExportParams {\n  name: string;\n  data: JSONData;\n}\nexport const handleExportJSON = ({ name, data }: ExportParams) => {\n  const elementA = document.createElement(\"a\");\n\n  elementA.download = name;\n  elementA.style.display = \"none\";\n\n  const blob = new Blob([JSON.stringify(data, getCircularReplacer())]);\n\n  elementA.href = URL.createObjectURL(blob);\n  document.body.appendChild(elementA);\n  elementA.click();\n  document.body.removeChild(elementA);\n};\n\ntype ImportParams = (p: JSONData) => void;\n\nexport const handleImportJSON = (cb: ImportParams) => {\n  // 创建一个file input\n  let input: HTMLInputElement | null = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \".json\";\n  // 绑定onchange事件\n  input.onchange = (event: any) => {\n    let files = event.target.files;\n    if (!files || !files.length) {\n      input = null;\n      throw new Error(\"No files\");\n    }\n\n    // 当选择文件后，使用FileReader API读取文件，返回数据\n    let reader = new FileReader();\n    reader.onload = (event: any) => {\n      try {\n        let config = JSON.parse(event.target.result);\n        cb(config);\n        return config;\n      } catch (e: any) {\n        message.error(e);\n        throw new Error(e);\n      }\n    };\n    reader.readAsText(files[0]);\n  };\n\n  // 触发上传文件\n  input.click();\n};\n\n/**\n *等待所有图片加载完成\n */\nexport const waitImgsLoaded = async (root: Element) => {\n  const imgs =\n    root instanceof HTMLImageElement ? [root] : root.querySelectorAll(\"img\");\n\n  return await Promise.all(\n    Array.from(imgs).map(\n      (img) =>\n        new Promise((resolve) => {\n          if (img.complete) {\n            resolve(img);\n            return;\n          }\n          img.addEventListener(\"load\", () => resolve(img));\n        })\n    )\n  );\n};\n","var map = {\n\t\"./tpl1.json\": [\n\t\t368,\n\t\t368\n\t],\n\t\"./tpl10.json\": [\n\t\t7990,\n\t\t7990\n\t],\n\t\"./tpl11.json\": [\n\t\t3845,\n\t\t3845\n\t],\n\t\"./tpl12.json\": [\n\t\t326,\n\t\t326\n\t],\n\t\"./tpl13.json\": [\n\t\t779,\n\t\t779\n\t],\n\t\"./tpl2.json\": [\n\t\t731,\n\t\t731\n\t],\n\t\"./tpl3.json\": [\n\t\t5714,\n\t\t5714\n\t],\n\t\"./tpl4.json\": [\n\t\t3776,\n\t\t3776\n\t],\n\t\"./tpl5.json\": [\n\t\t3450,\n\t\t3450\n\t],\n\t\"./tpl6.json\": [\n\t\t2804,\n\t\t2804\n\t],\n\t\"./tpl7.json\": [\n\t\t9663,\n\t\t9663\n\t],\n\t\"./tpl8.json\": [\n\t\t5481,\n\t\t5481\n\t],\n\t\"./tpl9.json\": [\n\t\t2731,\n\t\t2731\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 8373;\nmodule.exports = webpackAsyncContext;"],"names":["BGIMG","tplFileNumber","bgFileNumber","DEFAULT_THEME","EXPORT_TYPE","LOCAL_STORAGE","CONSTANTS","IMG","DIVIDER","ICON","TAG","PREVIEW_BOX","FOOTNOTES","TYPE","NO_Edit_TYPE","Object","values","JSON2JSX_ELEMENT","BLOCK_STYLE","h1","fontSize","fontWeight","lineHeight","h2","h3","p","BG_POSITION","TAG_TYPES","TAG_TYPES_FN","type","v","theme","TYPES","style","color","width","height","border","borderRadius","textAlign","background","DIVIDER_TYPES","LINE_BOTTOM","BACKGROUND","BACKGROUND2","RADIUS_LINE","RADIUS_LINE_MIDDLE","BORDER_LEFT_BG","DIVIDER_TYPES_FN","borderBottom","padding","display","borderTop","borderLeft","colorRgb","paddingLeft","ToGithub","visible","setVisible","title","onOk","onCancel","okText","cancelText","className","target","href","PRINT_ID","setStyle","styleContent","document","createElement","innerHTML","getContainer","nodes","div","querySelector","body","removeChild","cleanPrint","container","setAttribute","length","join","afterAllLoad","imgs","Array","from","querySelectorAll","Promise","resolve","loadCount","checkFn","forEach","img","addEventListener","appendChild","window","print","Header","layouts","setTheme","setLayouts","bgNodes","setBgNodes","setPrintNodes","setTotal","setPage","printNodes","page","navigate","useNavigate","useState","toGithubVisible","setToGithubVisible","location","useLocation","useEffect","search","handleChangeTpl","substring","key","includes","layoutsObj","bgImg","state","map","item","keys","block","subItem","split","text","json2jsx","exportMenu","onClick","e","finalPrintArr","handleExportJSON","name","moment","format","data","items","label","LeftOutlined","overlay","DownOutlined","Setting","layoutKey","form","content","options","value","onConfirm","arr","getFieldsValue","props","icon","SettingOutlined","MyGridLayout","addBlock","index","isEdit","isContentEditable","blockStyleFn","layout","cols","margin","rowHeight","isDraggable","isResizable","onLayoutChange","i","pre","handleLayoutChange","zIndex","node","React","onBlur","_","innerText","handleBlockChange","contentEditable","suppressContentEditableWarning","CopyOutlined","findIndex","Date","now","handleCopyBlock","CloseOutlined","splice","handleDeleteBlock","icons","Icons","handleIconClick","iconContent","placement","ToolIconClass","Themes","handleThemeClick","themeContent","Divider","validateFields","then","w","h","rules","required","noStyle","shouldUpdate","getFieldValue","initialValue","direction","Tag","BgNode","bgBlocks","bottom","right","Tools","dividerModalVisible","setDividerModalVisible","tagModalVisible","setTagModalVisible","handleAddBlock","importJSONCallback","accept","id","onChange","reads","FileReader","f","getElementById","files","readAsDataURL","onload","src","result","alt","htmlFor","handleImportJSON","total","guideVisible","setGuideVisible","locationParams","useLayoutEffect","guideStatus","localStorage","getItem","nodeType","bType","y","lastY","reduce","cur","Math","max","x","push","handleNext","bgImgNode","position","left","top","backgroundColor","n","handleDeleteBgNode","LeftSquareOutlined","PlusSquareOutlined","RightSquareOutlined","footer","setItem","closable","maskClosable","guide","getUrlBase64","url","ext","reject","canvas","ctx","getContext","Image","drawImage","dataURL","toDataURL","remove","onerror","res","children","isArray","Symbol","for","colorStr","opacity","sColor","toLowerCase","test","sColorNew","slice","concat","colorArr","parseInt","elementA","download","blob","Blob","JSON","stringify","URL","createObjectURL","click","cb","input","onchange","event","Error","reader","config","parse","readAsText","webpackAsyncContext","req","__webpack_require__","o","code","ids","t","module","exports"],"sourceRoot":""}